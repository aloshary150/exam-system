<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<title>دخول امتحان</title>
<link rel="stylesheet" href="style.css">
</head>
<body>

<header>دخول امتحان</header>

<div class="container">
  <input id="studentName" placeholder="اسم الطالب">

  <select id="examSelect">
    <option value="">اختر الامتحان</option>
  </select>

  <button onclick="start()">بدء الامتحان</button>
</div>

<script>
fetch("/api/exams")
.then(r=>r.json())
.then(exams=>{
  const sel = document.getElementById("examSelect");
  exams.forEach(e=>{
    const op = document.createElement("option");
    op.value = e.id;
    op.textContent = `${e.subject} - ${e.grade}`;
    sel.appendChild(op);
  });
});

function start(){
  const name = document.getElementById("studentName").value.trim();
  const examId = document.getElementById("examSelect").value;

  if (!name || !examId) {
    alert("أدخل الاسم واختر الامتحان");
    return;
  }

  location.href = `exam.html?id=${examId}&name=${encodeURIComponent(name)}`;
}
</script>

</body>
</html>
